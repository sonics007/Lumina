{% extends "base.html" %}

{% block content %}
<div class="card-grid">
    <div class="card">
        <h3><i class="fas fa-film"></i> Total Movies</h3>
        <div class="value">{{ movie_count }}</div>
    </div>
    <div class="card">
        <h3><i class="fas fa-users"></i> Active Clients</h3>
        <div class="value">{{ active_clients_count }}</div>
    </div>
    <div class="card">
        <h3><i class="fas fa-server"></i> Providers</h3>
        <div class="value">{{ provider_count }}</div>
    </div>
    <div class="card">
        <h3><i class="fas fa-clock"></i> Uptime</h3>
        <div class="value">{{ uptime }}</div>
    </div>
</div>

<div class="table-container">
    <h2><i class="fas fa-history"></i> Recent Activity</h2>
    <br>
    <table>
        <thead>
            <tr>
                <th>Time</th>
                <th>Client IP</th>
                <th>Action</th>
                <th>Content</th>
            </tr>
        </thead>
        <tbody>
            {% for item in history[:10] %}
            <tr>
                <td>{{ item.time }}</td>
                <td>{{ item.ip }}</td>
                <td>{{ item.action }}</td>
                <td>{{ item.content }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4">No recent activity.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}